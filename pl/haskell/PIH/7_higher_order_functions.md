# Συναρτήσεις υψηλότερης τάξης

## Βασικές έννοιες
 
 Μια συνάρτηση που δέχεται μια συνάρτηση ως όρισμα ή επιστρέφει μια συνάρτηση ονομάζεται συνάρτηση υψηλότερης τάξης (higher order function).

**Οι συναρτήσεις μπορούν να επιστρέφουν συναρτήσεις**

Οι συναρτήσεις με πολλαπλά ορίσματα ορίζονται στην Haskell χρησιμοποιώντας currying, δηλαδή συναρτήσεις που επιστρέφουν ως αποτελέσματα συναρτήσεις. Για παράδειγμα η συνάρτηση ``add`` η οποία δέχεται δύο ακέραιους και επιστρέφει έναν ακέραιο.

```
add :: Int -> Int -> Int
add x y = x + y
```

σημαίνει 

```
add :: Int -> (Int -> Int)
add = \x -> (\y -> x + y)
```

δηλαδή η ```add``` είναι μια συνάρτηση που δέχεται έναν ακέραιο ```x``` και επιστρέφει μια συνάρτηση που με τη σειρά της δέχεται έναν άλλο ακέραιο ```y``` και επιστρέφει το άθροισμα ```x + y```.

**Οι συναρτήσεις μπορούν να δέχονται συναρτήσεις ως ορίσματα**

Στο παράδειγμα που ακολουθεί η συνάρτηση ```twice``` δέχεται μια συνάρτηση ως παράμετρο και μια τιμή και επιστρέφει την εφαρμογή της συνάρτησης στην τιμή δύο φορές.

```
twice :: (a->a) -> a -> a
twice f x = f (f x)
```

Παραδείγματα

```
Prelude> twice (*2) 3
12
```

```
Prelude> twice reverse [1,2,3]
[1,2,3]
```

## Επεξεργασία λιστών

**Χρήσιμες higher order functions**

```map, filter, all, any, takeWhile, dropWhile, iterate```

Παραδείγματα με τη συνάρτηση ```map```
```
Prelude> map (+1) [1,2,3]
[2,3,4]
Prelude> map even [1,2,3]
[False,True,False]
Prelude> map reverse ["abc","def","ghi"]
["cba","fed","igh"]
Prelude> map (map (+1)) [[1,2,3],[4,5]]
[[2,3,4],[5,6]]
```

Παραδείγματα με τη συνάρτηση ```filter```
```
Prelude> filter even [1..10]
[2,4,6,8,10]
Prelude> filter (>5) [1..10]
[6,7,8,9,10]
Prelude> filter (/=' ') "abc def ghi"
"abcdefghi"
```

Παραδείγματα με τη συνάρτηση ```all```
```
Prelude> all even [2,4,6,8]
True
```

Παραδείγματα με τη συνάρτηση ```any```
```
Prelude> any odd [2,4,6,8]
False
```

Παραδείγματα με τη συνάρτηση ```takeWhile```
```
Prelude> takeWhile even [2,4,6,8]
[2,4,6]
```

Παραδείγματα με τη συνάρτηση ```dropWhile```
```
Prelude> dropWhile odd [1,3,5,6,7]
[6,7]
```

Παραδείγματα με τη συνάρτηση ```iterate```
```
Prelude> take 10 (iterate (*2) 1)
[1,2,4,8,16,32,64,128,256,512]
```

Η συνάρτηση ```iterate``` επιστρέφει μια άπειρη λίστα.


## Η συνάρτηση foldr

Η συμπεριφορά της foldr για μια λίστα 4 στοιχείων είναι η ακόλουθη:

```
foldr (#) v [x0,x1,x2,x3] = x0 # (x1 # (x2 # (x3 # v)))
```

## Η συνάρτηση foldl
Η συμπεριφορά της foldl για μια λίστα 4 στοιχείων είναι η ακόλουθη:

```
foldl (#) v [x0,x1,x2,x3] = ((((v # x0) # x1) # x2) # x3)
```

## Ο τελεστής σύνθεσης
